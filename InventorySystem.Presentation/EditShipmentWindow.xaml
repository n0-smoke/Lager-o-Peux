<Window x:Class="InventorySystem.Presentation.EditShipmentWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Edit Shipment" Height="500" Width="600"
        WindowStartupLocation="CenterScreen" ResizeMode="NoResize">
    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <!-- Truck -->
            <RowDefinition Height="Auto"/>
            <!-- Destination -->
            <RowDefinition Height="Auto"/>
            <!-- Status -->
            <RowDefinition Height="Auto"/>
            <!-- Direction -->
            <RowDefinition Height="Auto"/>
            <!-- Assign Items -->
            <RowDefinition Height="Auto"/>
            <!-- Load Label -->
            <RowDefinition Height="Auto"/>
            <!-- Load Display -->
            <RowDefinition Height="Auto"/>
            <!-- Save -->
            <RowDefinition Height="Auto"/>
            <!-- Generate Report -->
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="Auto"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <!-- Truck Selection -->
        <Label Content="Truck:" Grid.Row="0" Grid.Column="0" VerticalAlignment="Center" Margin="0,5"/>
        <ComboBox x:Name="TruckComboBox" Grid.Row="0" Grid.Column="1" Margin="10,5"
                  DisplayMemberPath="Identifier" SelectedValuePath="Id"
                  SelectionChanged="TruckComboBox_SelectionChanged"/>

        <!-- Destination -->
        <Label Content="Destination:" Grid.Row="1" Grid.Column="0" VerticalAlignment="Center" Margin="0,5"/>
        <TextBox x:Name="DestinationBox" Grid.Row="1" Grid.Column="1" Margin="10,5"/>

        <!-- Status -->
        <Label Content="Status:" Grid.Row="2" Grid.Column="0" VerticalAlignment="Center" Margin="0,5"/>
        <ComboBox x:Name="StatusBox" Grid.Row="2" Grid.Column="1" Margin="10,5">
            <ComboBoxItem Content="Pending"/>
            <ComboBoxItem Content="In Transit"/>
            <ComboBoxItem Content="Delivered"/>
        </ComboBox>

        <!-- Direction -->
        <Label Content="Direction:" Grid.Row="3" Grid.Column="0" VerticalAlignment="Center" Margin="0,5"/>
        <ComboBox x:Name="DirectionBox" Grid.Row="3" Grid.Column="1" Margin="10,5">
            <ComboBoxItem Content="Incoming"/>
            <ComboBoxItem Content="Outgoing"/>
        </ComboBox>

        <!-- Assign Items Button -->
        <Button Content="Assign Items" Grid.Row="4" Grid.Column="1" Width="100"
                HorizontalAlignment="Left" Margin="10,10,0,0"
                Click="AssignItems_Click"/>

        <!-- Load Info -->
        <Label Content="Truck Load:" Grid.Row="5" Grid.Column="0" Margin="0,10,0,0"/>
        <StackPanel Grid.Row="5" Grid.Column="1" Orientation="Horizontal" Margin="10,10,0,0">
            <TextBlock x:Name="LoadPercentageText" Text="0%" FontWeight="Bold" VerticalAlignment="Center"/>
            <TextBlock Text=" of max capacity" VerticalAlignment="Center" Margin="5,0,0,0"/>
        </StackPanel>

        <!-- ProgressBar + Warning -->
        <StackPanel Grid.Row="6" Grid.Column="0" Grid.ColumnSpan="2" Margin="0,5,0,0">
            <ProgressBar x:Name="LoadProgressBar" Height="20" Maximum="100" Value="0"/>
            <TextBlock x:Name="CapacityWarningText" Foreground="Red" Visibility="Collapsed"
                       Text="Warning: Load exceeds truck capacity!" FontWeight="Bold" Margin="0,5,0,0"/>
        </StackPanel>

        <!-- Save Button -->
        <Button Content="Save" Grid.Row="7" Grid.Column="1" Width="80"
                HorizontalAlignment="Right" Margin="10,15,0,0"
                Click="Save_Click"/>
        
        <!-- Generate PDF Report Button -->
        <Button Content="Generate Report" Grid.Row="8" Grid.Column="1" Width="150"
        HorizontalAlignment="Right" Margin="10,10,0,0"
        Click="GenerateReport_Click"/>

    </Grid>
</Window>
